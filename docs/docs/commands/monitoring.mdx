---
sidebar_position: 16
id: monitoring
---
# Monitoring

Running `sedge monitoring` will allow you to manage the monitoring stack used for tracking the performance and health of node operations.

## Help

```
$ sedge monitoring -h
Manage the monitoring stack. Use 'init' to install and run, or 'clean' to stop and uninstall.

Usage:
  sedge monitoring [command] [flags]

Available Commands:
  init        Initialize the monitoring stack (Grafana, Prometheus, etc.)
  clean       Clean and uninstall the monitoring stack

Flags:
  -h, --help   help for monitoring

Global Flags:
  --log-level string   Set log level, e.g., panic, fatal, error, warn, warning, info, debug, trace (default "info")

```

## Init Command

`sedge monitoring init` initializes the monitoring stack, configuring services like **Prometheus** and **Grafana**. It supports both default and Lido-specific configurations.

```
$ sedge monitoring init -h
This command initializes the monitoring stack (Grafana, Prometheus, etc.) for Lido CSM or general node monitoring.

Usage:
  sedge monitoring init [subcommand] [flags]

Available Subcommands:
  default     Default monitoring configuration (Prometheus, Grafana, Node Exporter)
  lido        Configure Lido CSM node monitoring (Prometheus, Grafana, Node Exporter, Lido Exporter)
  aztec       Configure Aztec monitoring (OTel Collector -> Prometheus -> Grafana)

Flags:
  -h, --help   help for init

Global Flags:
  --log-level string   Set log level, e.g., panic, fatal, error, warn, warning, info, debug, trace (default "info")
```

### Default Monitoring

```
$ sedge monitoring init default -h
Default monitoring configuration using Prometheus, Grafana, and Node Exporter.

Usage:
  sedge monitoring init default [flags]

Flags:
  -h, --help   help for default
```

### Lido-Specific Monitoring

```
$ sedge monitoring init lido -h
Configure Lido CSM node monitoring (Prometheus, Grafana, Node Exporter, Lido Exporter).

Usage:
  sedge monitoring init lido [flags]

Flags:
  --node-operator-id string   Lido Node Operator ID
  --reward-address string     Reward address of Node Operator (used to calculate Node Operator ID if not set)
  --network string            Target network (default "hoodi")
  --rpc-endpoints strings     List of Ethereum HTTP RPC endpoints
  --ws-endpoints strings      List of Ethereum WebSocket RPC endpoints
  --port uint16               Port for exporting metrics (default 8080)
  --scrape-time duration      Scrape interval for metrics (default "30s")
  --log-level string          Set log level (default "info")

Global Flags:
  --log-level string   Set log level, e.g., panic, fatal, error, warn, warning, info, debug, trace (default "info")
```

### Aztec-Specific Monitoring

`sedge monitoring init aztec` configures an **OpenTelemetry Collector** that receives **OTLP metrics** from Aztec nodes and exposes them as a **Prometheus-scrapable** endpoint. It also provisions Grafana dashboards for Aztec.

```
$ sedge monitoring init aztec -h
Configure Aztec monitoring (OTel Collector -> Prometheus -> Grafana)

Usage:
  sedge monitoring init aztec [flags]

Flags:
  --metrics-port uint16        Port where Prometheus will scrape the Aztec metrics from the collector. (default 9464)
  --otlp-grpc-port uint16      OTLP gRPC receiver port for Aztec nodes to send metrics to. (default 4317)
  --otlp-http-port uint16      OTLP HTTP receiver port for Aztec nodes to send metrics to. (default 4318)
  --log-level string           Collector log level (e.g. error, warn, info, debug). (default "info")
  --metric-expiry string       How long to keep stale metrics series before expiring them (e.g. 5m, 1h). (default "5m")

Global Flags:
  --log-level string   Set log level, e.g., panic, fatal, error, warn, warning, info, debug, trace (default "info")
```

## Clean Command

The `sedge monitoring clean` command stops and uninstalls the monitoring stack.

```
$ sedge monitoring clean -h
Clean and uninstall the monitoring stack.

Usage:
  sedge monitoring clean [flags]

Flags:
  -h, --help   help for clean

Global Flags:
  --log-level string   Set log level, e.g., panic, fatal, error, warn, warning, info, debug, trace (default "info")

```